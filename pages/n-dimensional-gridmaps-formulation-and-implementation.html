<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JV - Science and stuff.</title>
    <meta name="description" content="">
    <meta name="author" content="Javier V. Gómez">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="/theme/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/theme/bootstrap.min.css" rel="stylesheet">
    <link href="/theme/bootstrap.min.responsive.css" rel="stylesheet">
    <link href="/theme/local.css" rel="stylesheet">
    <link href="/theme/pygments.css" rel="stylesheet">

    <!-- So Firefox can bookmark->"abo this site" -->

</head>

<body>

<div class="navbar">
    <div class="navbar-inner">
    <div class="container">

         <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
         </a>

        <a class="brand" href="/index.html">JV - Science and stuff.</a>

        <div class="nav-collapse">
        <ul class="nav">
            
            <li><a href="/pages/about-me.html">About Me</a></li>
            <li><a href="/pages/other-works.html">Other Works</a></li>
            <li><a href="/pages/publications.html">Publications</a></li>
            <li><a href="/pages/research.html">Research</a></li>
            <li><a href="/pages/tutorials.html">Tutorials</a></li>
        </ul>
        </div>
        
    </div>
    </div>
</div>

<div class="container">
    <div class="content">
    <div class="row">

        <div class="span9">
<section id="content" class="body">
    <h1 class="content-title">
        n-Dimensional Gridmaps: Formulation and Implementation
    <h3>Contents:
        <h4>
           <nav class="toc">
           <div class="toc">
<ul>
<li><a href="#downloads">Downloads</a></li>
<li><a href="#source-code">Source code</a></li>
<li><a href="#generalized-neighbors-extraction">Generalized neighbors extraction</a></li>
<li><a href="#helper-functions">Helper functions</a><ul>
<li><a href="#conversion-from-coordinates-to-index">Conversion from Coordinates to Index</a></li>
<li><a href="#conversion-from-index-to-coordinates">Conversion from Index to Coordinates</a></li>
</ul>
</li>
</ul>
</div>
           </nav>
        </h4>
    </h3>

    </h1>
    <p>It all started in a cold winter morning, after spending 2 weeks trying to create a hierarchy of C++ classes to implement functions valid to any kind of grid map, it turned out that the best solution were to work with grid indices and forget about coordinates! This way we can parametrize everything. "There should be something on the Internet about this". After a few hours looking for how to extract neighbors of grids with number and size of dimensions not fixed I decided it was time to try it by myself...</p>
<div class="figure align-right" style="width: 300px; height: auto;">
<img alt="ND gridmap formulation" src="/images/ndgridmap/ndgrid_handwriting.png" style="width: 100%; height: auto;"/>
<p></p>
<p class="caption">FM toolbox test output</p>
</div>
<p>Grid maps are extensively used in many different algorithms. Among the different grid map types we are focusing on rectangular (or cubic) grid map with a priori unknown number of dimensions. We are detailing the main problems that arise when working with this type of data structure: extraction and validation of 4-connectivity neighbors for a given cell, conversion from index to coordinates (and vice-versa) and the mathematical generalization to n-dimensional grids. Also, we are detailing a generic implementation available as free software.</p>
<p>In this page I posted a document (and its sources) to understand the mathematical formulation and generalization of n-dimensional grid maps. Also a link to my implementation of a grid map of n dimension is provided. The main characteristics here are that it is easy to use.</p>
<h3 id="downloads">Downloads</h3>
<ul>
<li><a href="/files/works/ndneighbors/nd-neighbors.pdf">Report with the detailed formulation</a></li>
<li><a href="/files/works/ndneighbors/nd-neighbors.zip">Report and image sources</a></li>
</ul>
<h3 id="source-code">Source code</h3>
<ul>
<li><a href="https://www.biicode.com/jvgomez/ndgridmap">Biicode block</a>: Recommended! Check out my <a href="/pages/introduction-to-path-planning-made-easier-with-biicode.html">Path Planning tutorial</a> to learn how to use it.</li>
<li><a href="https://github.com/jvgomez/fastmarching/tree/master/ndgridmap">Github repository</a>: Included in my Fast Marching code.</li>
</ul>
<h3 id="generalized-neighbors-extraction">Generalized neighbors extraction</h3>
<p>The formulation for a 2D grid are summarized in the following pixs. Hard to understand if the report has not been read:</p>
<p>For a 2D and 3D grids, neighbors are:</p>
<div class="figure align-right" style="width: 100%; height: auto;">
<img alt="2D Neighbors" src="/images/ndgridmap/2dgrid.png" style="width: 42%; height:
auto;"/>
<img alt="3D Neighbors" src="/images/ndgridmap/3dgrid.png" style="width: 57%; height: auto;"/>
<p></p>
<p class="caption">Von-Neumann (4-connectivity) neighbors computation for 2D and 3D grids.</p>
</div>
<p>Therefore, for a nD grid:</p>
<div class="figure align-center" style="width: 50%; height: auto;">
<img alt="nD Neighbors" src="/images/ndgridmap/ndgrid.png" style="width: 100%; height:
auto;"/>
<p class="caption">Von-Neumann (4-connectivity) neighbors computation for nD grids.</p>
</div>
<p>Obviously, not all the neighbors are valid since the cell queried can be in an edge or in a corner. In the full report it is described how to generalize the neighbors checking.
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/></p>
<div class="figure align-right" style="width: 50%; height: auto;">
<img alt="Coordinates to index" src="/images/ndgridmap/coord2idx.png" style="width: 100%; height:
auto;"/>
<p class="caption">Von-Neumann (4-connectivity) coordinates to index conversion.</p>
</div>
<h3 id="helper-functions">Helper functions</h3>
<h4 id="conversion-from-coordinates-to-index">Conversion from Coordinates to Index</h4>
<p><br/>
<br/>
<br/></p>
<div class="figure align-right" style="width: 50%; height: auto;">
<img alt="Index to coordinates" src="/images/ndgridmap/idx2coord.png" style="width: 100%; height:
auto;"/>
<p class="caption">Von-Neumann (4-connectivity) index to coordinates conversion.</p>
</div>
<h4 id="conversion-from-index-to-coordinates">Conversion from Index to Coordinates</h4>
</section>
        </div>
        
        <div class="span3">

            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Site
                </li>
            
                <li><a href="/">Archives</a>
                <li><a href="/tags.html">Tags</a>




            </ul>
            </div>


            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Categories
                </li>
                
                <li><a href="/category/news.html">news</a></li>
                   
            </ul>
            </div>


            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Links
                </li>
            
                <li><a href="http://getpelican.com/">Pelican</a></li>
                <li><a href="http://python.org/">Python.org</a></li>
                <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
            </ul>
            </div>


            <div class="social">
            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Social
                </li>
           
                <li><a href="http://stackoverflow.com/users/2283531/javi-v"></a></li>
                <li><a href="http://github.com/jvgomez"></a></li>
                <li><a href="https://www.linkedin.com/profile/view?id=105141580"></a></li>
            </ul>
            </div>
            </div>

        </div>  
    </div>     </div> 
<footer>
<br />
<p><a href="/index.html">JV - Science and stuff.</a> &copy; Javier V. Gómez 2014</p>
</footer>

</div> <!-- /container -->
<script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
<script src="/theme/bootstrap-collapse.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-21664985-2', 'auto');
  ga('require', 'displayfeatures');
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');

</script>
 
</body>
</html>